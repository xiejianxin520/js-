<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    //js类型转换只有三种情况，
    // 布尔值，数字，字符串


    //     相等操作符会先转换操作数（通常称为强制转型），然后比较它们的相等性。

    // 在转换不同的数据类型时，相等操作符遵循下列基本规则：

    // 1. 如果有一个操作数是布尔值，则在比较相等性之前，将其转换为数值；
    console.log(1 == true); //true
    console.log(0 == false); //true


    // 2. 如果一个操作数是字符串，另一个操作数是数值，在比较之前先将字符串转换为数值；
    console.log('23' == 23); //true


    // 3. 如果一个操作数是对象，另一个 操作数不是，则调用对象的 valueOf() 方法，用得到的基本类型值按照前面的规则进行比较；
    console.log([] == 0); //true 
    console.log({} == 0, 'false'); //false
    console.log('--s---s--s--');
    var num = 0;
    var objs = new String("0");
    console.log(num == objs); //true 
    console.log({} == "object"); //false 


    // 4. 如果有一个操作数是 NaN，无论另一个操作数是什么，相等操作符都返回 false；
    console.log(NaN == NaN); //false
    console.log(NaN == "xjx"); //false

    // 5. 如果两个操作数都是对象，则比较它们是不是同一个对象。如果指向同一个对象，则相等操作符返回 true；
    var obj11 = new String("0");
    var obj22 = new String("0");
    console.log(obj11 == obj22); //false
    var a = {
      name: 'xjx'
    }
    var b = {
      name: 'xjx'
    }
    console.log(a == b); //false
    console.log({} == {}); //false
    console.log({} == NaN, '///'); //false
    //[] == 0;//true
    // [] == []; //false
    // [] == ![]; //true
    // {} == {}; //false
    // {} == !{}; //false


    //     三、[] == ![] 和 {} == !{}
    // ECMAScript 中规定，逻辑非 (!) 的优先级高于相等操作符 ( == )
    // 在比较 [] == ![] 的时候，先计算 ![] 得到布尔值 false
    // 所以实际上比较的是 [] == false
    // 然后根据上面的第1条规则和第3条规则，将两个操作数转为数值类型：
    // Number([]) == Number(false);   // ->  0 == 0  ->  true

    // 在比较 {} == !{} 的时候，也是遵守同样的规则：
    // {} == !{}  ->  {} == false  ->  Number({}) == Number(false)  ->  NaN !== 0
    // 然后第4条规则规定：如果有一个操作数是 NaN，相等操作符返回 false
    // 所以 {} == !{} 的结果是 false

    // 6. 在比较相等性之前，不能将 null 和 undefined 转成其他值。

    // 7. null 和 undefined 是相等的。

    console.log(null == undefined); //true
    console.log(undefined == undefined, "undefined"); //true
    console.log(null == null) //true

    var obj = {
      name: 'ss',
      age: 18,
      name: '属性被覆盖，位置不变'
    }
    console.log(obj);

    console.log(';;;;;');
    console.log(new String("a"));
    console.log(String("a") == new String("a")); //true
    console.log(Date() == new Date()); //true
  </script>
</body>

</html>